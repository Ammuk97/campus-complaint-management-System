To make your project stand out on GitHub, your `README.md` should be professional, clear, and highlight both your technical choices and the problem you've solved.

Here is a high-quality description and documentation template you can copy and paste:

---

# üéì Campus Management System (CMS) ‚Äî Student Grievance Portal

A lightweight, high-performance web application designed to streamline student complaint management. This system provides a seamless interface for students to voice concerns and a robust dashboard for administrators to track and resolve issues.

## üöÄ Key Features

### For Students

* **Secure Authentication:** Dual-role login with CAPTCHA validation.
* **Intuitive Submission:** Lodge complaints with automatic **Ticket ID generation**.
* **Real-time Tracking:** Monitor the status of grievances (Pending/Resolved) in a personalized portal.

### For Administrators

* **Dynamic Dashboard:** At-a-glance statistics of total, pending, and resolved complaints.
* **Privacy-First Management:** Student identities are **masked** (Anonymous) and registration numbers are hidden to prevent bias and protect data.
* **Advanced Filtering:** Search and filter by status, category (Hostel, Faculty, Infrastructure), or Ticket ID.
* **Data Export:** One-click **CSV Export** for offline reporting and administrative record-keeping.

## üõ†Ô∏è Technical Stack

This project follows a **"Lean Web"** philosophy, focusing on speed and native browser capabilities:

* **Frontend:** HTML5 & [Tailwind CSS](https://tailwindcss.com/) (Utility-first styling for responsiveness).
* **Interactivity:** Vanilla JavaScript (ES6+) for high performance without library overhead.
* **Data Persistence:** [Web Storage API (localStorage)](https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage) for client-side data management.
* **UI/UX:** Inter Google Font & SVG iconography for crisp visuals at any resolution.

## üèóÔ∏è Architecture & Security

* **Data Serialization:** Leverages `JSON.stringify` and `JSON.parse` to manage complex objects within `localStorage`.
* **Auth Guard:** Implements session-based logic flags to prevent unauthorized access to the Admin Panel.
* **Privacy by Design:** Automated masking functions for sensitive user identifiers.

## üó∫Ô∏è Roadmap (Future Enhancements)

* [ ] Transition to **Firebase/Node.js** for cloud data persistence.
* [ ] Implementation of **Email Notifications** for status updates.
* [ ] Integration of **Role-Based Access Control (RBAC)** for different faculty levels.
* [ ] Secure **Password Hashing** for user accounts.

## üì• Installation

1. Clone the repository: `git clone https://github.com/your-username/campus-cms.git`
2. Open `login.html` in any modern web browser.
3. *Note: As this uses localStorage, data is unique to your current browser session.*

---

### **Quick Tip for GitHub:**

When you upload this, make sure to add **Topics** to your repository like: `javascript`, `tailwind-css`, `student-management-system`, and `frontend-development`. This makes your project more discoverable!

below i have given the code.










<!DOCTYPE html>
<html lang="en">

<head>
    <title>Campus CMS ‚Äî Admin Panel</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: 'Inter', sans-serif;
        }

        body {
            background: #fdf8f2;
        }

        .sidebar {
            background: linear-gradient(180deg, #1e1b4b, #312e81, #4338ca);
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 11px 16px;
            border-radius: 12px;
            color: rgba(255, 255, 255, 0.65);
            font-weight: 500;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .nav-item:hover,
        .nav-item.active {
            background: rgba(255, 255, 255, 0.12);
            color: white;
        }

        .nav-item.active {
            border-left: 3px solid #a5b4fc;
        }

        .stat-card {
            border-radius: 20px;
            padding: 24px;
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .stat-card::after {
            content: '';
            position: absolute;
            top: -30px;
            right: -30px;
            width: 110px;
            height: 110px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.12);
        }

        .stat-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.18);
        }

        .section {
            display: none;
        }

        /* Table */
        table {
            width: 100%;
            border-collapse: collapse;
        }

        thead th {
            background: #312e81;
            color: white;
            padding: 13px 16px;
            text-align: left;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.06em;
        }

        thead th:first-child {
            border-radius: 12px 0 0 0;
        }

        thead th:last-child {
            border-radius: 0 12px 0 0;
        }

        tbody tr {
            border-bottom: 1px solid #f1f5f9;
            transition: background 0.15s;
        }

        tbody tr:hover {
            background: #f8f7ff;
        }

        tbody td {
            padding: 14px 16px;
            font-size: 13px;
            color: #374151;
            vertical-align: top;
        }

        tbody tr:last-child {
            border-bottom: none;
        }

        /* Badges */
        .badge {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 99px;
            font-size: 11px;
            font-weight: 700;
        }

        .badge-pending {
            background: #fef3c7;
            color: #92400e;
        }

        .badge-resolved {
            background: #d1fae5;
            color: #065f46;
        }

        .badge-hostel {
            background: #dbeafe;
            color: #1e40af;
        }

        .badge-faculty {
            background: #ede9fe;
            color: #5b21b6;
        }

        .badge-infra {
            background: #ffedd5;
            color: #9a3412;
        }

        /* Search & filter bar */
        input[type=search],
        select.filter-select {
            padding: 9px 14px;
            border-radius: 10px;
            border: 1.5px solid #e2e8f0;
            font-size: 13px;
            background: white;
            outline: none;
            transition: border-color 0.2s;
        }

        input[type=search]:focus,
        select.filter-select:focus {
            border-color: #6366f1;
        }

        ::-webkit-scrollbar {
            width: 5px;
            height: 5px;
        }

        ::-webkit-scrollbar-thumb {
            background: #c7d2fe;
            border-radius: 99px;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(16px)
            }

            to {
                opacity: 1;
                transform: translateY(0)
            }
        }

        .section-animate {
            animation: slideUp 0.3s ease forwards;
        }
    </style>
</head>

<body class="flex min-h-screen">

    <!-- ============================== SIDEBAR ============================== -->
    <aside class="sidebar w-60 flex-shrink-0 flex flex-col min-h-screen py-6 px-4"
        style="position:sticky;top:0;height:100vh;">

        <!-- Logo -->
        <div class="flex flex-col items-center mb-8 px-1">
            <div class="w-12 h-12 rounded-xl flex items-center justify-center mb-3 shadow-lg"
                style="background:linear-gradient(135deg,#818cf8,#6366f1)">
                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                </svg>
            </div>
            <h2 class="text-white font-bold text-base tracking-wide">Admin Panel</h2>
            <span class="text-indigo-300 text-xs font-medium mt-0.5">Campus CMS</span>
        </div>

        <!-- Admin chip -->
        <div class="mx-1 mb-6 px-3 py-2.5 rounded-xl flex items-center gap-2.5"
            style="background:rgba(255,255,255,0.08);border:1px solid rgba(255,255,255,0.12)">
            <div
                class="w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-400 to-purple-600 flex items-center justify-center text-white font-bold text-sm flex-shrink-0">
                A</div>
            <div>
                <p class="text-white text-xs font-semibold">Administrator</p>
                <p class="text-indigo-300 text-xs">admin</p>
            </div>
            <div class="ml-auto w-2 h-2 rounded-full bg-emerald-400"></div>
        </div>

        <nav class="flex-1 space-y-1 px-1">
            <div class="nav-item active" id="nav-overview" onclick="showSection('overview')">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                </svg>
                Overview
            </div>
            <div class="nav-item" id="nav-complaints" onclick="showSection('complaints')">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                </svg>
                All Complaints
                <span id="totalBadge"
                    class="ml-auto text-xs font-bold bg-indigo-500 text-white rounded-full px-2 py-0.5">0</span>
            </div>
            <div class="nav-item" id="nav-users" onclick="showSection('users')">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
                Students
            </div>
        </nav>

        <div class="px-1 mt-4">
            <button onclick="logout()" class="nav-item w-full text-left" style="color:rgba(248,113,113,0.85)">
                <svg class="w-4 h-4 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                </svg>
                Logout
            </button>
        </div>
    </aside>

    <!-- ============================== MAIN ============================== -->
    <main class="flex-1 overflow-y-auto min-h-screen p-8">
        <div class="max-w-5xl mx-auto">

            <!-- ‚îÄ‚îÄ OVERVIEW ‚îÄ‚îÄ -->
            <div id="overview" class="section">
                <div class="mb-7">
                    <h1 class="text-3xl font-extrabold text-gray-900">Dashboard Overview</h1>
                    <p id="adminTime" class="text-sm text-gray-400 mt-1"></p>
                </div>

                <!-- Stat Cards -->
                <div class="grid grid-cols-2 sm:grid-cols-4 gap-5 mb-8">
                    <div class="stat-card text-white shadow-lg"
                        style="background:linear-gradient(135deg,#6366f1,#4f46e5)">
                        <p class="text-xs font-semibold text-white/70 mb-1">Total</p>
                        <p class="text-4xl font-extrabold" id="ov-total">0</p>
                        <p class="text-xs text-white/60 mt-3">Complaints</p>
                    </div>
                    <div class="stat-card text-white shadow-lg"
                        style="background:linear-gradient(135deg,#f59e0b,#d97706)">
                        <p class="text-xs font-semibold text-white/70 mb-1">Pending</p>
                        <p class="text-4xl font-extrabold" id="ov-pending">0</p>
                        <p class="text-xs text-white/60 mt-3">Unresolved</p>
                    </div>
                    <div class="stat-card text-white shadow-lg"
                        style="background:linear-gradient(135deg,#10b981,#059669)">
                        <p class="text-xs font-semibold text-white/70 mb-1">Resolved</p>
                        <p class="text-4xl font-extrabold" id="ov-resolved">0</p>
                        <p class="text-xs text-white/60 mt-3">Closed</p>
                    </div>
                    <div class="stat-card text-white shadow-lg"
                        style="background:linear-gradient(135deg,#8b5cf6,#7c3aed)">
                        <p class="text-xs font-semibold text-white/70 mb-1">Students</p>
                        <p class="text-4xl font-extrabold" id="ov-students">0</p>
                        <p class="text-xs text-white/60 mt-3">Registered</p>
                    </div>
                </div>

                <!-- Recent complaints preview -->
                <div class="bg-white rounded-2xl shadow-sm overflow-hidden">
                    <div class="p-5 border-b border-gray-100 flex items-center justify-between">
                        <h3 class="font-bold text-gray-800">Recent Complaints</h3>
                        <button onclick="showSection('complaints')"
                            class="text-xs text-indigo-600 font-semibold hover:underline">View all ‚Üí</button>
                    </div>
                    <div id="recentList" class="divide-y divide-gray-50"></div>
                </div>
            </div>

            <!-- ‚îÄ‚îÄ ALL COMPLAINTS ‚îÄ‚îÄ -->
            <div id="complaints" class="section">
                <div class="mb-6">
                    <h1 class="text-3xl font-extrabold text-gray-900">All Complaints</h1>
                    <p class="text-gray-400 text-sm mt-1">Every complaint submitted by students, across all accounts</p>
                </div>

                <!-- Filter bar -->
                <div class="bg-white rounded-2xl shadow-sm p-4 mb-5 flex flex-wrap gap-3 items-center">
                    <input type="search" id="searchBox" placeholder="üîç  Search by title, student, ticket‚Ä¶"
                        oninput="renderTable()" class="flex-1 min-w-[180px]">
                    <select class="filter-select" id="filterStatus" onchange="renderTable()">
                        <option value="">All Statuses</option>
                        <option value="Pending">Pending</option>
                        <option value="Resolved">Resolved</option>
                    </select>
                    <select class="filter-select" id="filterCategory" onchange="renderTable()">
                        <option value="">All Categories</option>
                        <option>Hostel</option>
                        <option>Faculty</option>
                        <option>Infrastructure</option>
                    </select>
                    <button onclick="exportCSV()"
                        class="flex items-center gap-1.5 px-4 py-2 rounded-xl text-white text-xs font-bold shadow"
                        style="background:linear-gradient(135deg,#6366f1,#8b5cf6)">
                        <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                        </svg>
                        Export CSV
                    </button>
                </div>

                <!-- Table -->
                <div class="bg-white rounded-2xl shadow-sm overflow-hidden">
                    <div class="overflow-x-auto">
                        <table>
                            <thead>
                                <tr>
                                    <th>Ticket ID</th>
                                    <th>Student</th>
                                    <th>Title</th>
                                    <th>Category</th>
                                    <th>Status</th>
                                    <th>Date</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="complaintTable"></tbody>
                        </table>
                    </div>
                    <div id="emptyState" class="hidden text-center py-14 text-gray-400">
                        <svg class="w-12 h-12 mx-auto mb-3 opacity-30" fill="none" stroke="currentColor"
                            viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                        </svg>
                        <p class="font-semibold">No complaints found</p>
                    </div>
                </div>
            </div>

            <!-- ‚îÄ‚îÄ STUDENTS ‚îÄ‚îÄ -->
            <div id="users" class="section">
                <div class="mb-6">
                    <h1 class="text-3xl font-extrabold text-gray-900">Registered Students</h1>
                    <p class="text-gray-400 text-sm mt-1">All student accounts stored in the system</p>
                </div>
                <div class="bg-white rounded-2xl shadow-sm overflow-hidden">
                    <div class="overflow-x-auto">
                        <table>
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Registration Number</th>
                                    <th>Last Login</th>
                                    <th>Complaints</th>
                                    <th>Account Created</th>
                                </tr>
                            </thead>
                            <tbody id="userTable"></tbody>
                        </table>
                    </div>
                    <div id="emptyUsers" class="hidden text-center py-14 text-gray-400">
                        <p class="font-semibold">No registered students yet.</p>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <!-- Detail Modal -->
    <div id="modalOverlay" onclick="closeModal()" class="fixed inset-0 bg-black/40 backdrop-blur-sm z-40"
        style="display:none"></div>
    <div id="detailModal" class="fixed top-1/2 left-1/2 z-50 bg-white rounded-2xl shadow-2xl p-7 w-full max-w-md"
        style="display:none;transform:translate(-50%,-50%)">
        <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-bold text-gray-900" id="modalTitle">Complaint Details</h3>
            <button onclick="closeModal()"
                class="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 hover:bg-gray-200 transition">‚úï</button>
        </div>
        <div id="modalBody" class="text-sm text-gray-600 space-y-3 leading-relaxed"></div>
    </div>

    <script>
        /* ‚îÄ‚îÄ Auth guard ‚îÄ‚îÄ */
        if (localStorage.getItem('cmsAdminLoggedIn') !== 'true') {
            window.location.href = 'login.html';
        }

        /* ‚îÄ‚îÄ Data ‚îÄ‚îÄ */
        function getAllComplaints() {
            const all = [];
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                if (key && key.startsWith('cmsComplaints_')) {
                    const studentId = key.replace('cmsComplaints_', '');
                    try {
                        const items = JSON.parse(localStorage.getItem(key)) || [];
                        items.forEach(c => all.push({ ...c, studentId }));
                    } catch (e) { }
                }
            }
            return all.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
        }

        function getAllUsers() {
            try { return JSON.parse(localStorage.getItem('cmsUsers')) || []; }
            catch (e) { return []; }
        }

        /* ‚îÄ‚îÄ Navigation ‚îÄ‚îÄ */
        function showSection(id) {
            document.querySelectorAll('.section').forEach(s => s.style.display = 'none');
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            const el = document.getElementById(id);
            if (el) { el.style.display = 'block'; el.classList.add('section-animate'); }
            const nav = document.getElementById('nav-' + id);
            if (nav) nav.classList.add('active');
            if (id === 'complaints') renderTable();
            if (id === 'users') renderUsers();
        }

        /* ‚îÄ‚îÄ Mask helper: replaces all chars with * ‚îÄ‚îÄ */
        function maskId(id) {
            return '*'.repeat((id || '').length) || '***';
        }

        /* ‚îÄ‚îÄ Category badge helper ‚îÄ‚îÄ */
        function catBadge(cat) {
            const map = { Hostel: 'badge-hostel', Faculty: 'badge-faculty', Infrastructure: 'badge-infra' };
            return `<span class="badge ${map[cat] || 'badge-hostel'}">${cat}</span>`;
        }

        /* ‚îÄ‚îÄ Render complaint table ‚îÄ‚îÄ */
        function renderTable() {
            const all = getAllComplaints();
            const search = (document.getElementById('searchBox')?.value || '').toLowerCase();
            const status = document.getElementById('filterStatus')?.value || '';
            const category = document.getElementById('filterCategory')?.value || '';

            const filtered = all.filter(c => {
                const matchSearch = !search ||
                    (c.title || '').toLowerCase().includes(search) ||
                    (c.studentId || '').toLowerCase().includes(search) ||
                    (c.ticketId || '').toLowerCase().includes(search);
                const matchStatus = !status || c.status === status;
                const matchCategory = !category || c.category === category;
                return matchSearch && matchStatus && matchCategory;
            });

            const tbody = document.getElementById('complaintTable');
            const empty = document.getElementById('emptyState');
            tbody.innerHTML = '';

            if (filtered.length === 0) {
                if (empty) empty.classList.remove('hidden');
                return;
            }
            if (empty) empty.classList.add('hidden');

            filtered.forEach((c, i) => {
                const date = new Date(c.createdAt).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
                const isPending = c.status === 'Pending';
                tbody.innerHTML += `
        <tr>
            <td><code class="text-xs bg-gray-100 px-2 py-0.5 rounded font-mono">${c.ticketId || 'N/A'}</code></td>
            <td><span class="font-semibold text-gray-400 italic">Anonymous</span></td>
            <td class="max-w-[160px] truncate font-medium text-gray-800">${c.title}</td>
            <td>${catBadge(c.category)}</td>
            <td><span class="badge ${isPending ? 'badge-pending' : 'badge-resolved'}">${isPending ? '‚è≥ ' : '‚úÖ '}${c.status}</span></td>
            <td class="text-gray-400 text-xs">${date}</td>
            <td>
                <button onclick='openModal(${JSON.stringify(c)})' class="text-xs font-semibold text-indigo-600 hover:text-indigo-800 transition">View</button>
            </td>
        </tr>`;
            });
        }

        /* ‚îÄ‚îÄ Render users table ‚îÄ‚îÄ */
        function renderUsers() {
            const users = getAllUsers();
            const tbody = document.getElementById('userTable');
            const empty = document.getElementById('emptyUsers');
            tbody.innerHTML = '';
            if (users.length === 0) { if (empty) empty.classList.remove('hidden'); return; }
            if (empty) empty.classList.add('hidden');

            users.forEach((u, i) => {
                const complaints = (() => {
                    try { return JSON.parse(localStorage.getItem(`cmsComplaints_${u.regNo}`)) || []; }
                    catch (e) { return []; }
                })();
                const created = u.createdAt ? new Date(u.createdAt).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' }) : 'N/A';
                const lastLogin = u.lastLogin ? new Date(u.lastLogin).toLocaleString('en-US', { month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit' }) : 'N/A';
                tbody.innerHTML += `
        <tr>
            <td class="text-gray-400 text-xs">${i + 1}</td>
            <td><span class="font-mono tracking-widest text-gray-400">${maskId(u.regNo)}</span></td>
            <td class="text-gray-400 text-xs">${lastLogin}</td>
            <td><span class="badge bg-indigo-100 text-indigo-700">${complaints.length} complaint${complaints.length !== 1 ? 's' : ''}</span></td>
            <td class="text-gray-400 text-xs">${created}</td>
        </tr>`;
            });
        }

        /* ‚îÄ‚îÄ Modal ‚îÄ‚îÄ */
        function openModal(c) {
            document.getElementById('modalTitle').textContent = c.title || 'Complaint Details';
            const date = new Date(c.createdAt).toLocaleString('en-US', { dateStyle: 'medium', timeStyle: 'short' });
            const isPending = c.status === 'Pending';
            document.getElementById('modalBody').innerHTML = `
        <div class="grid grid-cols-2 gap-3">
            <div class="bg-gray-50 rounded-xl p-3"><p class="text-xs text-gray-400 font-semibold mb-1">TICKET ID</p><p class="font-mono text-xs font-bold text-indigo-700">${c.ticketId || 'N/A'}</p></div>
            <div class="bg-gray-50 rounded-xl p-3"><p class="text-xs text-gray-400 font-semibold mb-1">STUDENT</p><p class="font-bold text-gray-400 italic">Anonymous</p></div>
            <div class="bg-gray-50 rounded-xl p-3"><p class="text-xs text-gray-400 font-semibold mb-1">CATEGORY</p>${catBadge(c.category)}</div>
            <div class="bg-gray-50 rounded-xl p-3"><p class="text-xs text-gray-400 font-semibold mb-1">STATUS</p><span class="badge ${isPending ? 'badge-pending' : 'badge-resolved'}">${c.status}</span></div>
            <div class="bg-gray-50 rounded-xl p-3 col-span-2"><p class="text-xs text-gray-400 font-semibold mb-1">DATE SUBMITTED</p><p>${date}</p></div>
        </div>
        <div class="bg-gray-50 rounded-xl p-4 mt-1">
            <p class="text-xs text-gray-400 font-semibold mb-2">DESCRIPTION</p>
            <p class="text-gray-700 leading-relaxed">${c.description || 'No description provided.'}</p>
        </div>
        ${isPending ? `
        <button onclick="resolveComplaintAdmin('${c.studentId}','${c.ticketId}');closeModal()" 
            class="mt-4 w-full py-3 rounded-xl text-white font-bold text-sm transition hover:opacity-90"
            style="background:linear-gradient(135deg,#10b981,#059669)">
            ‚úî Mark as Resolved
        </button>` : '<p class="mt-4 text-center text-xs text-emerald-600 font-semibold">‚úÖ This complaint is already resolved.</p>'}`;
            document.getElementById('modalOverlay').style.display = 'block';
            document.getElementById('detailModal').style.display = 'block';
        }
        function closeModal() {
            document.getElementById('modalOverlay').style.display = 'none';
            document.getElementById('detailModal').style.display = 'none';
        }

        /* ‚îÄ‚îÄ Admin resolve ‚îÄ‚îÄ */
        function resolveComplaintAdmin(studentId, ticketId) {
            const key = `cmsComplaints_${studentId}`;
            try {
                const items = JSON.parse(localStorage.getItem(key)) || [];
                const complaint = items.find(c => c.ticketId === ticketId);
                if (!complaint) return;
                complaint.status = 'Resolved';
                complaint.resolvedAt = new Date().toISOString();
                localStorage.setItem(key, JSON.stringify(items));
            } catch (e) { return; }
            // Refresh UI
            renderTable();
            loadOverview();
            showToastAdmin('Complaint marked as resolved ‚úî');
        }

        /* ‚îÄ‚îÄ Admin toast ‚îÄ‚îÄ */
        function showToastAdmin(msg) {
            let t = document.getElementById('adminToast');
            if (!t) {
                t = document.createElement('div');
                t.id = 'adminToast';
                t.className = 'fixed bottom-6 right-6 z-50 flex items-center gap-2 px-5 py-3.5 rounded-2xl text-white text-sm font-semibold shadow-2xl';
                t.style.background = 'linear-gradient(135deg,#10b981,#059669)';
                document.body.appendChild(t);
            }
            t.textContent = msg;
            t.style.display = 'flex';
            setTimeout(() => { t.style.display = 'none'; }, 3000);
        }

        /* ‚îÄ‚îÄ Export CSV ‚îÄ‚îÄ */
        function exportCSV() {
            const all = getAllComplaints();
            const rows = [['Ticket ID', 'Student', 'Title', 'Category', 'Status', 'Date', 'Description']];
            all.forEach(c => rows.push([ // studentId intentionally omitted
                c.ticketId || '', 'Anonymous', c.title || '', c.category || '',
                c.status || '', new Date(c.createdAt).toLocaleDateString(), (c.description || '').replace(/,/g, ' ')
            ]));
            const csv = rows.map(r => r.join(',')).join('\n');
            const a = document.createElement('a');
            a.href = 'data:text/csv;charset=utf-8,' + encodeURIComponent(csv);
            a.download = 'complaints_export.csv';
            a.click();
        }

        /* ‚îÄ‚îÄ Overview ‚îÄ‚îÄ */
        function loadOverview() {
            const all = getAllComplaints();
            const users = getAllUsers();
            const pending = all.filter(c => c.status === 'Pending').length;
            const resolved = all.filter(c => c.status === 'Resolved').length;

            animateCounter('ov-total', all.length);
            animateCounter('ov-pending', pending);
            animateCounter('ov-resolved', resolved);
            animateCounter('ov-students', users.length);

            // Sidebar badge
            const badge = document.getElementById('totalBadge');
            if (badge) badge.textContent = all.length;

            // Recent 5
            const recentList = document.getElementById('recentList');
            if (recentList) {
                recentList.innerHTML = '';
                all.slice(0, 5).forEach(c => {
                    const date = new Date(c.createdAt).toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
                    recentList.innerHTML += `
            <div class="flex items-center justify-between px-5 py-3.5 hover:bg-gray-50 transition cursor-pointer" onclick='openModal(${JSON.stringify(c)})'>
                <div class="flex items-center gap-3">
                    <div class="w-8 h-8 rounded-lg ${c.status === 'Pending' ? 'bg-amber-100' : 'bg-emerald-100'} flex items-center justify-center text-sm">
                        ${c.status === 'Pending' ? '‚è≥' : '‚úÖ'}
                    </div>
                    <div>
                        <p class="text-sm font-semibold text-gray-800">${c.title}</p>
                        <p class="text-xs text-gray-400">Anonymous ¬∑ ${c.category}</p>
                    </div>
                </div>
                <span class="text-xs text-gray-400">${date}</span>
            </div>`;
                });
                if (all.length === 0) recentList.innerHTML = `<p class="text-center py-8 text-gray-400 text-sm">No complaints yet.</p>`;
            }
        }

        function animateCounter(id, end) {
            let start = 0; const el = document.getElementById(id); if (!el) return;
            el.innerText = 0;
            const iv = setInterval(() => { if (start >= end) { clearInterval(iv); return; } start++; el.innerText = start; }, 25);
        }

        function updateTime() {
            const el = document.getElementById('adminTime');
            if (el) el.innerText = new Date().toLocaleString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit', second: '2-digit' });
            setTimeout(updateTime, 1000);
        }

        function logout() {
            localStorage.removeItem('cmsAdminLoggedIn');
            window.location.href = 'login.html';
        }

        /* ‚îÄ‚îÄ Init ‚îÄ‚îÄ */
        window.onload = () => {
            showSection('overview');
            loadOverview();
            updateTime();
        };
    </script>

</body>

</html>
