// this is our second webpage code which is after logging in it will take us to dashboard.
// we have made the webpage so lean that whoever is loogin in for complaint submit part it will be faster for them to do.





<!DOCTYPE html>
<html lang="en">

<head>
    <title>Campus CMS Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <style>
        * {
            font-family: 'Inter', sans-serif;
        }

        body {
            background: #fdf8f2;
        }

        /* ---- SIDEBAR ---- */
        .sidebar {
            background: linear-gradient(180deg, #1d3557, #457b9d);
            border-right: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            border-radius: 14px;
            color: rgba(255, 255, 255, 0.65);
            font-weight: 500;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.25s ease;
            position: relative;
            overflow: hidden;
        }

        .nav-item::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(100, 210, 255, 0.12), rgba(167, 139, 250, 0.1));
            opacity: 0;
            transition: opacity 0.25s;
            border-radius: 14px;
        }

        .nav-item:hover::before,
        .nav-item.active::before {
            opacity: 1;
        }

        .nav-item:hover,
        .nav-item.active {
            color: #fff;
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        }

        .nav-item.active {
            border-left: 3px solid #64d2ff;
        }

        /* ---- MAIN ---- */
        .main-bg {
            background: #fdf8f2;
        }

        .section {
            display: none;
        }

        /* ---- STAT CARDS ---- */
        .stat-card {
            border-radius: 24px;
            padding: 28px;
            position: relative;
            overflow: hidden;
            transition: transform 0.35s cubic-bezier(0.34, 1.4, 0.64, 1), box-shadow 0.35s ease;
            cursor: default;
        }

        .stat-card::after {
            content: '';
            position: absolute;
            top: -40px;
            right: -40px;
            width: 130px;
            height: 130px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.15);
        }

        .stat-card:hover {
            transform: translateY(-10px) scale(1.03);
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.25);
        }

        .card-total {
            background: linear-gradient(135deg, #f093fb, #f5576c);
        }

        .card-pending {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
        }

        .card-resolved {
            background: linear-gradient(135deg, #43e97b, #38f9d7);
        }

        /* ---- ACTION BUTTONS ---- */
        .action-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 11px 22px;
            border-radius: 14px;
            font-weight: 600;
            font-size: 14px;
            border: none;
            cursor: pointer;
            transition: all 0.25s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }

        .action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
        }

        .btn-primary {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #0ea5e9, #06b6d4);
            color: white;
        }

        .btn-accent {
            background: linear-gradient(135deg, #f59e0b, #ef4444);
            color: white;
        }

        /* ---- COMPLAINT CARDS ---- */
        .complaint-card {
            background: white;
            border-radius: 18px;
            padding: 20px;
            border-left: 5px solid transparent;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.06);
            transition: all 0.25s ease;
        }

        .complaint-card.pending {
            border-left-color: #f59e0b;
        }

        .complaint-card.resolved {
            border-left-color: #10b981;
        }

        .complaint-card:hover {
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
            transform: translateX(4px);
        }

        /* ---- FORM ---- */
        .form-card {
            background: white;
            border-radius: 24px;
            padding: 32px;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.08);
        }

        .form-input {
            width: 100%;
            padding: 13px 16px;
            border-radius: 12px;
            border: 1.5px solid #e2e8f0;
            font-size: 14px;
            color: #1e293b;
            background: #f8faff;
            transition: all 0.2s ease;
            outline: none;
        }

        .form-input:focus {
            border-color: #6366f1;
            background: #fff;
            box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
        }

        /* ---- CIRCLES ---- */
        .circle {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 16px auto;
        }

        .circle-cgpa {
            background: conic-gradient(#f59e0b 70%, #f1f5f9 0%);
            box-shadow: 0 0 0 6px #fef3c7;
        }

        .circle-att {
            background: conic-gradient(#6366f1 72%, #f1f5f9 0%);
            box-shadow: 0 0 0 6px #ede9fe;
        }

        .circle .inner {
            width: 104px;
            height: 104px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 1.1rem;
        }

        /* ---- COVER ---- */
        .cover-photo {
            background: url('https://images.unsplash.com/photo-1562774053-701939374585') center/cover;
            height: 200px;
            border-radius: 24px 24px 0 0;
        }

        /* ---- POPUP ---- */
        .popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            z-index: 1000;
            background: white;
            border-radius: 24px;
            padding: 36px;
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.35);
            width: 340px;
        }

        .popup.active {
            transform: translate(-50%, -50%) scale(1);
        }

        /* ---- TOAST ---- */
        #toast {
            display: none;
        }

        /* ---- SCROLLBAR ---- */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 99px;
        }

        /* ---- BADGE ---- */
        .badge-pending {
            background: #fef3c7;
            color: #92400e;
        }

        .badge-resolved {
            background: #d1fae5;
            color: #065f46;
        }

        /* ---- PULSE DOT ---- */
        .pulse-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #10b981;
            position: relative;
        }

        .pulse-dot::after {
            content: '';
            position: absolute;
            inset: -4px;
            border-radius: 50%;
            background: rgba(16, 185, 129, 0.3);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
                opacity: 1;
            }

            50% {
                transform: scale(1.8);
                opacity: 0;
            }
        }

        /* Slide-in animation for sections */
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section-animate {
            animation: slideUp 0.35s ease forwards;
        }
    </style>
</head>

<body class="flex min-h-screen">

    <!-- ============================== SIDEBAR ============================== -->
    <aside class="sidebar w-64 flex-shrink-0 flex flex-col min-h-screen py-6 px-4"
        style="position:sticky;top:0;height:100vh;">

        <!-- Logo -->
        <div class="flex flex-col items-center mb-8 px-2">
            <div class="w-14 h-14 rounded-2xl flex items-center justify-center mb-3 shadow-lg"
                style="background:linear-gradient(135deg,#6366f1,#8b5cf6)">
                <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z" />
                </svg>
            </div>
            <h2 class="text-white font-bold text-lg tracking-wide">Campus CMS</h2>
            <div class="flex items-center gap-1.5 mt-1">
                <div class="pulse-dot"></div>
                <span class="text-xs text-emerald-400 font-medium">Online</span>
            </div>
        </div>

        <!-- User chip -->
        <div class="mx-2 mb-6 px-3 py-2.5 rounded-xl flex items-center gap-3"
            style="background:rgba(255,255,255,0.08);border:1px solid rgba(255,255,255,0.1)">
            <div class="w-8 h-8 rounded-full flex-shrink-0 bg-gradient-to-br from-violet-400 to-indigo-600 flex items-center justify-center text-white font-bold text-sm"
                id="avatarInitial">?</div>
            <div class="overflow-hidden">
                <p class="text-white text-xs font-semibold truncate" id="sidebarUser">Loading‚Ä¶</p>
                <p class="text-white/40 text-xs">Student</p>
            </div>
        </div>

        <!-- Nav -->
        <nav class="flex-1 space-y-1 px-1">
            <div class="nav-item" id="nav-dashboard" onclick="showSection('dashboard')">
                <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                </svg>
                Dashboard
            </div>
            <div class="nav-item" id="nav-complaint" onclick="showSection('complaint')">
                <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                Submit Complaint
            </div>
            <div class="nav-item" id="nav-mycomplaints" onclick="showSection('mycomplaints')">
                <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                </svg>
                My Complaints
                <span id="pendingBadge"
                    class="ml-auto hidden text-xs font-bold bg-red-500 text-white rounded-full px-2 py-0.5"></span>
            </div>
            <div class="nav-item" id="nav-profile" onclick="showSection('profile')">
                <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </svg>
                Profile
            </div>
        </nav>

        <!-- Logout -->
        <div class="px-1 mt-4">
            <button onclick="logout()" class="nav-item w-full text-left hover:border-red-400/30"
                style="background:rgba(239,68,68,0.08)">
                <svg class="w-5 h-5 flex-shrink-0 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                </svg>
                <span class="text-red-400">Logout</span>
            </button>
        </div>
    </aside>

    <!-- ============================== MAIN ============================== -->
    <main class="flex-1 overflow-y-auto min-h-screen main-bg">
        <div class="p-8 max-w-5xl mx-auto">

            <!-- ‚îÄ‚îÄ DASHBOARD ‚îÄ‚îÄ -->
            <div id="dashboard" class="section">

                <!-- Header -->
                <div class="flex items-start justify-between mb-8">
                    <div>
                        <h1 id="welcomeText" class="text-3xl font-extrabold text-gray-900 leading-tight">Welcome Back üëã
                        </h1>
                        <p id="datetime" class="text-sm text-gray-400 mt-1.5 font-medium"></p>
                    </div>
                    <button onclick="showPopup()"
                        class="flex items-center gap-2 px-4 py-2.5 rounded-xl bg-white shadow text-sm font-semibold text-gray-700 hover:shadow-md transition-all">
                        <svg class="w-5 h-5 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                        </svg>
                        Notifications
                    </button>
                </div>

                <!-- Stat Cards -->
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-5 mb-8">
                    <div class="stat-card card-total text-white shadow-xl">
                        <div class="flex justify-between items-start">
                            <div>
                                <p class="text-sm font-medium text-white/75 mb-1">Total Complaints</p>
                                <p class="text-5xl font-extrabold" id="totalCount">0</p>
                            </div>
                            <div class="w-12 h-12 rounded-xl bg-white/20 flex items-center justify-center">
                                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                                </svg>
                            </div>
                        </div>
                        <p class="text-xs text-white/60 mt-4 font-medium">All time submissions</p>
                    </div>

                    <div class="stat-card card-pending text-white shadow-xl">
                        <div class="flex justify-between items-start">
                            <div>
                                <p class="text-sm font-medium text-white/75 mb-1">Pending</p>
                                <p class="text-5xl font-extrabold" id="pendingCount">0</p>
                            </div>
                            <div class="w-12 h-12 rounded-xl bg-white/20 flex items-center justify-center">
                                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                            </div>
                        </div>
                        <p class="text-xs text-white/60 mt-4 font-medium">Awaiting resolution</p>
                    </div>

                    <div class="stat-card card-resolved text-white shadow-xl">
                        <div class="flex justify-between items-start">
                            <div>
                                <p class="text-sm font-medium text-white/75 mb-1">Resolved</p>
                                <p class="text-5xl font-extrabold" id="resolvedCount">0</p>
                            </div>
                            <div class="w-12 h-12 rounded-xl bg-white/20 flex items-center justify-center">
                                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M5 13l4 4L19 7" />
                                </svg>
                            </div>
                        </div>
                        <p class="text-xs text-white/60 mt-4 font-medium">Successfully closed</p>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="bg-white rounded-2xl p-6 shadow-sm mb-6">
                    <h3 class="text-sm font-bold text-gray-400 uppercase tracking-widest mb-4">Quick Actions</h3>
                    <div class="flex flex-wrap gap-3">
                        <button class="action-btn btn-primary" onclick="showSection('complaint')">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 4v16m8-8H4" />
                            </svg>
                            New Complaint
                        </button>
                        <button class="action-btn btn-secondary" onclick="showSection('mycomplaints')">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M4 6h16M4 10h16M4 14h16M4 18h16" />
                            </svg>
                            View All
                        </button>
                        <button class="action-btn btn-accent" onclick="randomMotivation()">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M13 10V3L4 14h7v7l9-11h-7z" />
                            </svg>
                            Motivate Me
                        </button>
                    </div>
                </div>
            </div>

            <!-- ‚îÄ‚îÄ SUBMIT COMPLAINT ‚îÄ‚îÄ -->
            <div id="complaint" class="section">
                <h1 class="text-3xl font-extrabold text-gray-900 mb-2">Submit a Complaint</h1>
                <p class="text-gray-500 mb-7 text-sm">Fill out the form below. We'll track it for you.</p>
                <div class="form-card max-w-2xl">
                    <form onsubmit="submitComplaint(event)" class="space-y-5">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-1.5">Complaint Title</label>
                            <input type="text" id="title" class="form-input"
                                placeholder="e.g. Water leakage in Room 204" required>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-1.5">Category</label>
                            <select id="category" class="form-input" required>
                                <option value="">‚Äî Select a Category ‚Äî</option>
                                <option>Hostel</option>
                                <option>Faculty</option>
                                <option>Infrastructure</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-1.5">Description</label>
                            <textarea id="description" class="form-input resize-none" rows="5"
                                placeholder="Describe the issue in detail‚Ä¶" required></textarea>
                        </div>
                        <button type="submit"
                            class="w-full py-3.5 rounded-xl text-white font-bold text-sm tracking-wide shadow-lg transition-all hover:-translate-y-1 hover:shadow-xl"
                            style="background:linear-gradient(135deg,#6366f1,#8b5cf6)">
                            üöÄ Submit Complaint
                        </button>
                    </form>
                </div>
            </div>

            <!-- ‚îÄ‚îÄ MY COMPLAINTS ‚îÄ‚îÄ -->
            <div id="mycomplaints" class="section">
                <div class="flex items-center justify-between mb-7">
                    <div>
                        <h1 class="text-3xl font-extrabold text-gray-900">My Complaints</h1>
                        <p class="text-gray-400 text-sm mt-1">Track the status of all your submissions</p>
                    </div>
                </div>
                <div id="complaintList" class="space-y-4 max-w-2xl"></div>
            </div>

            <!-- ‚îÄ‚îÄ PROFILE ‚îÄ‚îÄ -->
            <div id="profile" class="section">
                <h1 class="text-3xl font-extrabold text-gray-900 mb-6">My Profile</h1>
                <div class="max-w-3xl">
                    <!-- Cover + Avatar -->
                    <div class="rounded-3xl overflow-hidden shadow-xl mb-6">
                        <div class="cover-photo"></div>
                        <div class="bg-white px-8 py-5 flex flex-col sm:flex-row items-center sm:items-end gap-4"
                            style="margin-top:-56px">
                            <img src="profile.jpg" alt="Profile picture"
                                class="w-28 h-28 rounded-2xl border-4 border-white shadow-xl object-cover flex-shrink-0">
                            <div class="flex-1 text-center sm:text-left pb-1">
                                <h2 class="text-xl font-bold text-gray-900">Punch</h2>
                                <p class="text-sm text-gray-500">punch@gmail.com ¬∑ Tokyo, Japan</p>
                                <div class="flex flex-wrap justify-center sm:justify-start gap-2 mt-2">
                                    <span
                                        class="px-3 py-1 rounded-full text-xs font-semibold bg-indigo-100 text-indigo-700">Computer
                                        Science</span>
                                    <span
                                        class="px-3 py-1 rounded-full text-xs font-semibold bg-emerald-100 text-emerald-700">4th
                                        Year</span>
                                </div>
                            </div>
                            <div class="flex gap-6 pb-1">
                                <div class="text-center">
                                    <p class="text-2xl font-extrabold text-amber-500">9.19</p>
                                    <p class="text-xs text-gray-400 font-medium">CGPA</p>
                                </div>
                                <div class="text-center">
                                    <p class="text-2xl font-extrabold text-indigo-500">92%</p>
                                    <p class="text-xs text-gray-400 font-medium">Attendance</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Info Grid -->
                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-5">
                        <!-- Personal Info -->
                        <div class="sm:col-span-1 bg-white rounded-2xl p-6 shadow-sm">
                            <h3 class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-4">Personal Info
                            </h3>
                            <div class="space-y-3 text-sm">
                                <div class="flex items-center gap-2.5">
                                    <div
                                        class="w-8 h-8 rounded-lg bg-indigo-50 flex items-center justify-center flex-shrink-0">
                                        <svg class="w-4 h-4 text-indigo-500" fill="none" stroke="currentColor"
                                            viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                                        </svg>
                                    </div>
                                    <div>
                                        <p class="text-xs text-gray-400">Name</p>
                                        <p class="font-semibold text-gray-800">Punch</p>
                                    </div>
                                </div>
                                <div class="flex items-center gap-2.5">
                                    <div
                                        class="w-8 h-8 rounded-lg bg-blue-50 flex items-center justify-center flex-shrink-0">
                                        <svg class="w-4 h-4 text-blue-500" fill="none" stroke="currentColor"
                                            viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                                        </svg>
                                    </div>
                                    <div>
                                        <p class="text-xs text-gray-400">Email</p>
                                        <p class="font-semibold text-gray-800">punch@gmail.com</p>
                                    </div>
                                </div>
                                <div class="flex items-center gap-2.5">
                                    <div
                                        class="w-8 h-8 rounded-lg bg-green-50 flex items-center justify-center flex-shrink-0">
                                        <svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor"
                                            viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                                        </svg>
                                    </div>
                                    <div>
                                        <p class="text-xs text-gray-400">Phone</p>
                                        <p class="font-semibold text-gray-800">88990066</p>
                                    </div>
                                </div>
                                <div class="flex items-center gap-2.5">
                                    <div
                                        class="w-8 h-8 rounded-lg bg-rose-50 flex items-center justify-center flex-shrink-0">
                                        <svg class="w-4 h-4 text-rose-500" fill="none" stroke="currentColor"
                                            viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                        </svg>
                                    </div>
                                    <div>
                                        <p class="text-xs text-gray-400">Location</p>
                                        <p class="font-semibold text-gray-800">Tokyo, Japan</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- CGPA Circle -->
                        <div class="bg-white rounded-2xl p-6 shadow-sm text-center">
                            <h3 class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-1">CGPA</h3>
                            <div class="circle circle-cgpa">
                                <div class="inner text-amber-500">9.19</div>
                            </div>
                            <p class="text-xs text-gray-400 mt-1">Out of 10.0</p>
                            <div class="mt-3 px-3 py-1.5 bg-amber-50 rounded-lg inline-block">
                                <span class="text-xs font-bold text-amber-600">üèÜ Distinction</span>
                            </div>
                        </div>

                        <!-- Attendance Circle -->
                        <div class="bg-white rounded-2xl p-6 shadow-sm text-center">
                            <h3 class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-1">Attendance</h3>
                            <div class="circle circle-att">
                                <div class="inner text-indigo-600">92%</div>
                            </div>
                            <p class="text-xs text-gray-400 mt-1">This Semester</p>
                            <div class="mt-3 px-3 py-1.5 bg-indigo-50 rounded-lg inline-block">
                                <span class="text-xs font-bold text-indigo-600">‚úÖ Eligible</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div><!-- /max-w -->
    </main>

    <!-- ============================== TOAST ============================== -->
    <div id="toast"
        class="fixed bottom-6 right-6 z-50 flex items-center gap-3 px-5 py-4 rounded-2xl shadow-2xl text-white text-sm font-semibold"
        style="background:linear-gradient(135deg,#10b981,#059669);min-width:220px">
        <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M5 13l4 4L19 7" />
        </svg>
        <span id="toastMessage">Done!</span>
        <button id="undoBtn" style="display:none" onclick="undoRemove()"
            class="ml-auto text-xs bg-white/25 hover:bg-white/40 px-3 py-1 rounded-lg font-semibold transition">Undo</button>
    </div>

    <!-- ============================== OVERLAY + POPUP ============================== -->
    <div id="overlay" onclick="closePopup()" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-40"
        style="display:none"></div>
    <div class="popup" id="popup">
        <div class="w-12 h-12 rounded-2xl bg-indigo-100 flex items-center justify-center mb-4 text-2xl">üì¢</div>
        <h3 class="text-xl font-bold text-gray-900 mb-2">Campus Notification</h3>
        <p class="text-gray-500 text-sm mb-6 leading-relaxed">No new complaints today ‚Äî keep up the great work! üéâ</p>
        <button onclick="closePopup()" class="w-full py-3 rounded-xl text-white font-bold text-sm"
            style="background:linear-gradient(135deg,#6366f1,#8b5cf6)">Close</button>
    </div>

    <!-- ============================== SCRIPT ============================== -->
    <script>
        let complaints = [];
        let lastRemoved = null;
        let undoTimer = null;

        function getCurrentUserId() {
            try {
                const c = localStorage.getItem("cmsCurrentUser");
                if (c) { const p = JSON.parse(c); if (p && p.regNo) return p.regNo; }
            } catch (e) { }
            return localStorage.getItem("cmsRegNo");
        }

        function getComplaintsKey() {
            const uid = getCurrentUserId();
            return uid ? `cmsComplaints_${uid}` : "cmsComplaints_guest";
        }

        function loadComplaints() {
            try { const s = localStorage.getItem(getComplaintsKey()); complaints = s ? JSON.parse(s) : []; }
            catch (e) { complaints = []; }
        }

        function saveComplaints() {
            try { localStorage.setItem(getComplaintsKey(), JSON.stringify(complaints)); } catch (e) { }
        }

        function showSection(id) {
            document.querySelectorAll(".section").forEach(s => s.style.display = "none");
            document.querySelectorAll(".nav-item").forEach(n => n.classList.remove("active"));
            const el = document.getElementById(id);
            if (el) { el.style.display = "block"; el.classList.add("section-animate"); }
            const nav = document.getElementById("nav-" + id);
            if (nav) nav.classList.add("active");
        }

        window.onload = () => {
            const uid = getCurrentUserId();
            if (!uid) { window.location.href = "login.html"; return; }

            loadComplaints();
            showSection("dashboard");
            updateDateTime();
            displayComplaints();
            updateDashboard();

            // Set user info in sidebar
            const sidebarUser = document.getElementById("sidebarUser");
            const avatarEl = document.getElementById("avatarInitial");
            if (sidebarUser) sidebarUser.textContent = uid;
            if (avatarEl) avatarEl.textContent = uid.charAt(0).toUpperCase();

            const welcome = document.getElementById("welcomeText");
            if (welcome) welcome.textContent = `Welcome back, ${uid} üëã`;
        };

        function updateDateTime() {
            setInterval(() => {
                document.getElementById("datetime").innerText = new Date().toLocaleString('en-US', {
                    weekday: 'long', year: 'numeric', month: 'long', day: 'numeric',
                    hour: '2-digit', minute: '2-digit', second: '2-digit'
                });
            }, 1000);
        }

        function submitComplaint(e) {
            e.preventDefault();
            const title = document.getElementById("title").value;
            const category = document.getElementById("category").value;
            const description = document.getElementById("description").value;
            const ticketId = "T-" + Date.now().toString(36).toUpperCase() + "-" + Math.floor(Math.random() * 1000);

            complaints.push({ ticketId, title, category, description, status: "Pending", createdAt: new Date().toISOString() });
            saveComplaints();
            updateDashboard();
            displayComplaints();
            showToast("Complaint submitted!", false);
            e.target.reset();
        }

        const categoryColors = {
            "Hostel": "bg-blue-100 text-blue-700",
            "Faculty": "bg-purple-100 text-purple-700",
            "Infrastructure": "bg-orange-100 text-orange-700"
        };

        function displayComplaints() {
            const list = document.getElementById("complaintList");
            list.innerHTML = "";
            if (complaints.length === 0) {
                list.innerHTML = `
        <div class="text-center py-16 bg-white rounded-2xl shadow-sm">
            <svg class="w-14 h-14 mx-auto mb-3 text-gray-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
            </svg>
            <p class="font-bold text-gray-400 text-base">No complaints yet</p>
            <p class="text-gray-400 text-sm mt-1">Submit one and it'll appear here.</p>
        </div>`;
                return;
            }
            complaints.forEach((c, i) => {
                const isPending = c.status === "Pending";
                const catColor = categoryColors[c.category] || "bg-gray-100 text-gray-600";
                const date = new Date(c.createdAt).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
                list.innerHTML += `
        <div class="complaint-card ${isPending ? 'pending' : 'resolved'}">
            <div class="flex items-start justify-between gap-3 mb-3">
                <h4 class="font-bold text-gray-900 text-base leading-snug">${c.title}</h4>
                <span class="flex-shrink-0 text-xs font-bold px-3 py-1 rounded-full ${isPending ? 'badge-pending' : 'badge-resolved'}">
                    ${isPending ? '‚è≥ Pending' : '‚úÖ Resolved'}
                </span>
            </div>
            <div class="flex flex-wrap gap-2 mb-3">
                <span class="text-xs font-semibold px-2.5 py-1 rounded-full ${catColor}">${c.category}</span>
                <span class="text-xs text-gray-400 font-medium flex items-center gap-1">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 20l4-16m2 16l4-16M6 9h14M4 15h14"/></svg>
                    ${c.ticketId || "N/A"}
                </span>
                <span class="text-xs text-gray-400 font-medium">${date}</span>
            </div>
            <p class="text-sm text-gray-500 leading-relaxed mb-4">${c.description || ""}</p>
            ${isPending ? `<button onclick="resolveComplaint(${i})"
                class="text-xs px-4 py-2 rounded-xl text-white font-bold transition-all hover:-translate-y-0.5 hover:shadow-md"
                style="background:linear-gradient(135deg,#6366f1,#8b5cf6)">Mark as Resolved</button>` : ""}
        </div>`;
            });

            // Update sidebar badge
            const pending = complaints.filter(c => c.status === "Pending").length;
            const badge = document.getElementById("pendingBadge");
            if (badge) {
                if (pending > 0) { badge.textContent = pending; badge.classList.remove("hidden"); }
                else { badge.classList.add("hidden"); }
            }
        }

        function resolveComplaint(index) {
            if (!complaints[index]) return;
            const removed = complaints.splice(index, 1)[0];
            saveComplaints(); updateDashboard(); displayComplaints();
            lastRemoved = { complaint: removed, index };
            if (undoTimer) clearTimeout(undoTimer);
            showToast("Complaint resolved", true);
            undoTimer = setTimeout(() => {
                lastRemoved = null;
                const t = document.getElementById("toast");
                const u = document.getElementById("undoBtn");
                if (t) t.style.display = "none";
                if (u) u.style.display = "none";
            }, 30000);
        }

        function undoRemove() {
            if (!lastRemoved) return;
            const { complaint, index } = lastRemoved;
            complaints.splice(Math.min(index, complaints.length), 0, complaint);
            saveComplaints(); updateDashboard(); displayComplaints();
            lastRemoved = null;
            if (undoTimer) { clearTimeout(undoTimer); undoTimer = null; }
            const t = document.getElementById("toast");
            const u = document.getElementById("undoBtn");
            if (t) t.style.display = "none";
            if (u) u.style.display = "none";
        }

        function showToast(message, showUndo) {
            const toast = document.getElementById("toast");
            const msgEl = document.getElementById("toastMessage");
            const undoBtn = document.getElementById("undoBtn");
            if (msgEl) msgEl.textContent = message;
            if (undoBtn) undoBtn.style.display = showUndo ? "inline-block" : "none";
            if (toast) toast.style.display = "flex";
            if (!showUndo) setTimeout(() => { if (!lastRemoved && toast) toast.style.display = "none"; }, 2500);
        }

        function animateCounter(id, end) {
            let start = 0;
            const target = document.getElementById(id);
            if (!target) return;
            target.innerText = 0;
            const interval = setInterval(() => {
                if (start >= end) { clearInterval(interval); return; }
                start++;
                target.innerText = start;
            }, 30);
        }

        function updateDashboard() {
            animateCounter("totalCount", complaints.length);
            animateCounter("pendingCount", complaints.filter(c => c.status === "Pending").length);
            animateCounter("resolvedCount", complaints.filter(c => c.status === "Resolved").length);
        }

        function showPopup() {
            document.getElementById("popup").classList.add("active");
            document.getElementById("overlay").style.display = "block";
        }

        function closePopup() {
            document.getElementById("popup").classList.remove("active");
            document.getElementById("overlay").style.display = "none";
        }

        function randomMotivation() {
            const msgs = [
                "Keep pushing forward üí™", "You are doing great üåü",
                "Small steps lead to big success üöÄ", "Stay positive and focused üéØ"
            ];
            alert(msgs[Math.floor(Math.random() * msgs.length)]);
        }

        function logout() {
            localStorage.removeItem("cmsRegNo");
            localStorage.removeItem("cmsCurrentUser");
            window.location.href = "login.html";
        }
    </script>

</body>

</html>




// for now we are working on this project there are so many things to add in our website for now this is our code
